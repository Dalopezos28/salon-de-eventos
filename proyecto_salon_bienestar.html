<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Juntos Vamos a Florecer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Merriweather&display=swap" rel="stylesheet">
  <style>
    :root {
      --petal-yellow: #FFD700;
      --petal-orange: #FFB347;
      --petal-light: #FFF176;
    }
    body {
      margin: 0;
      overflow: hidden;
      font-family: 'Merriweather', serif;
      color: #4a4a4a;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      position: relative;
      transition: background 5s linear;
    }
    .day {
      background: linear-gradient(to top, #f7e6c4, #fdfcfb);
    }
    .night {
      background: radial-gradient(circle at top, #1a2a6c, #000428);
    }
    .elements-container {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 1;
    }
    .element {
      position: absolute;
      top: -10%;
      will-change: transform, opacity;
    }
    .element svg {
      width: 100%;
      height: 100%;
    }
    .content {
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 30px 40px;
      background-color: rgba(255, 255, 255, 0.6);
      border-radius: 12px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.1);
      max-width: 90%;
      animation: breathe 8s ease-in-out infinite;
    }
    @keyframes breathe {
      0%,100% { box-shadow: 0 0 30px rgba(255,223,128,0.3); }
      50% { box-shadow: 0 0 60px rgba(255,223,128,0.6); }
    }
    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: clamp(2.5rem, 7vw, 4.5rem);
      margin: 0;
      font-weight: 400;
    }
    .controls {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    button {
      background-color: #a3b86c;
      color: #fff;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Merriweather', serif;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    button:hover {
      background-color: #8f9e5e;
      transform: translateY(-2px);
    }
    /* Estrellas en modo noche */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      animation: twinkle 2s infinite alternate;
    }
    @keyframes twinkle {
      from { opacity: 0.3; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="elements-container"></div>
  <div class="content">
    <h1>Juntos vamos a flore<strong>ser!</strong></h1>
    <div class="controls">
      <button id="toggleButton">ðŸŒ¸ Pausar AnimaciÃ³n</button>
      <button id="musicButton">ðŸŽµ MÃºsica</button>
    </div>
  </div>
  <audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3b9b7b6b37.mp3?filename=relaxing-meditation-112191.mp3" type="audio/mpeg">
  </audio>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const elementsContainer = document.querySelector('.elements-container');
      const toggleButton = document.getElementById('toggleButton');
      const musicButton = document.getElementById('musicButton');
      const bgMusic = document.getElementById('bgMusic');
      let isAnimating = true;
      let maxElements = 35;
      const activeElements = [];

      const petalSVG = `<svg viewBox="0 0 50 100" xmlns="http://www.w3.org/2000/svg">
        <path d="M25 0C50 35 50 70 25 100C0 70 0 35 25 0Z"/>
      </svg>`;
      const colors = ['var(--petal-yellow)', 'var(--petal-orange)', 'var(--petal-light)'];

      function createElement() {
        const el = document.createElement('div');
        el.classList.add('element');
        const color = colors[Math.floor(Math.random() * colors.length)];
        el.innerHTML = petalSVG.replace('<path d=', `<path fill="${color}" d=`);
        el.style.left = `${Math.random() * 100}vw`;
        const size = Math.random() * 20 + 20;
        el.style.width = `${size}px`;
        el.style.height = `${size}px`;
        el.style.opacity = Math.random() * 0.4 + 0.6;
        elementsContainer.appendChild(el);
        return { el, x: Math.random() * window.innerWidth, y: -50, speed: Math.random() * 0.5 + 0.3, angle: Math.random() * 360, drift: Math.random() * 2 - 1, scale: 0.8 + Math.random()*0.6 };
      }

      function animate() {
        if (isAnimating) {
          if (activeElements.length < maxElements && Math.random() < 0.05) {
            activeElements.push(createElement());
          }
          activeElements.forEach((obj, i) => {
            obj.y += obj.speed * 2;
            obj.x += Math.sin((Date.now()/1000) + i) * obj.drift;
            obj.angle += 0.5;
            obj.el.style.transform = `translate(${obj.x}px, ${obj.y}px) rotate(${obj.angle}deg) scale(${obj.scale})`;
            if (obj.y > window.innerHeight + 50) {
              obj.el.remove();
              activeElements.splice(i,1);
            }
          });
        }
        requestAnimationFrame(animate);
      }
      animate();

      toggleButton.addEventListener('click', () => {
        isAnimating = !isAnimating;
        toggleButton.textContent = isAnimating ? "ðŸŒ¸ Pausar AnimaciÃ³n" : "ðŸŒ¸ Reanudar AnimaciÃ³n";
      });
      musicButton.addEventListener('click', () => {
        if (bgMusic.paused) {
          bgMusic.volume = 0.3;
          bgMusic.play();
          musicButton.textContent = "ðŸ”‡ Silenciar";
        } else {
          bgMusic.pause();
          musicButton.textContent = "ðŸŽµ MÃºsica";
        }
      });

      // DÃ­a/Noche
      const hour = new Date().getHours();
      if (hour >= 7 && hour < 19) {
        document.body.classList.add("day");
      } else {
        document.body.classList.add("night");
        for (let i=0;i<40;i++) {
          const star = document.createElement("div");
          star.classList.add("star");
          star.style.width = star.style.height = `${Math.random()*3+1}px`;
          star.style.left = `${Math.random()*100}vw`;
          star.style.top = `${Math.random()*100}vh`;
          elementsContainer.appendChild(star);
        }
      }
    });
  </script>
</body>
</html>
